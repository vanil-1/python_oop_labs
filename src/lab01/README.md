# Лабораторная работа №1 — Класс и инкапсуляция (Python 3.x)

## Цель работы:

* Освоить объявление пользовательских классов;
* Изучить и применить инкапсуляцию на примере создания класса из предметной области согласно присвоиному варианту (вариант 9);
* Реализовать свойства (`@property`);
* Реализовать "магические методы" (`__str__`, `__repr__`, `__eq__`);
* Изучить разницу между атрибутами класса и экземпляра.

---

## Ход работы:

Так как предметная область - недвижимость, то было принято решение реализовать класс House - дом. Для данного класса можно реализовать множество атрибутов и бизнес-методов. Далее была созданна виртуальная доска, на которой были расписаны класс, его методы и атрибуты, некоторые детали кода, а также некоторая архитектура микро-проекта:

![sorry, something is wrong(...](/images/lab01/model/scheme_lab01.png)

### Модуль model.py:

В данном модуле реализован класс House. Ниже приведены библиотеки для импорта модуля validate.py, но его затронем позже:

![sorry, something is wrong(...](/images/lab01/model/libs_lab01.png)

Далее представлена реализация класса, а также конструкт __init__, в котором при объявлении атрибутов проходит валидация значении при помощи функции из раннее упомянутого модуля:

![sorry, something is wrong(...](/images/lab01/model/init_lab01.png)

Было принято решение создать свойста для артибутов цены, состояния аренды и минимального периода аренды для заключения договора (cost/rented/min_time_rent), так как данные атрибуты закрытые, при этом в случае необходимости потребнность в изменении их значения или доступе к самому значению может появиться. Для остальных переменных такое в теории не возможно, так как площадь или адресс почти никогда не меняются, хотя и могут, но лишь в редких, исключительных случаях, которые мы исключаем, так же как и случаи, когда атрибуту присвоенно неверное значение, например не та буква в именовании адреса. 

Ниже код с реализацией свойств, где, обращаю внимание, свойство rented - состояние объекта, от которого зависит поведение программы, а также getter и setter:

![sorry, something is wrong(...](/images/lab01/model/property01_lab01.png)

![sorry, something is wrong(...](/images/lab01/model/property02_lab01.png)

P.S. Также от состояния объекта зависит и setter cost|min_time_rent, т.е. если дом в аренде (rented = True), то изменить стоимость или минимальный период аренды не получится.

Для реализации бизнес-методов были выбраны действия: заключить контракт об аренду и расчёт минимальной стоимости аренды за n-й период. Два очень простых метода, один и которых (make_contract) зависит от состояния класса, т.е. если дом в аренде, то и арендовать его нельзя, иначе контракт заключён:

![sorry, something is wrong(...](/images/lab01/model/b_methood_lab01.png)

В конце кода реализованы "магические методы", где __str__() - выводит в консоль информацию о объекте в читаемой и красивой форме, __repr__() работае аналогично, выдаёт информацию, удобную для разработчика. __eq__ позволяет сравнивать два объекта, в данном случае принято решение сравнивать по цене и площади, наиболее необходимое сравнение при выборе дома:

![sorry, something is wrong(...](/images/lab01/model/m_methood_lab01.png)

### Модуль validate.py:

Данный модуль хранит функции для проверки на тип данных, их величину и/или соответсвие шаблону. Для проверки адреса прописана отдельная функция normalize, которая позволяет привести текст к виду, который можно сравнивать, что также позволяет пользователю писать лишние пробелы и буквы разного регистра, при этом функция validate_adress() проверяет тип данных, нормализированную строку адресса согласно шаблону: 'номер дома' 'название улицы (2-3 слова)'. 

Аналогчные функции проверяют также тип данных, а также велечину значения, например, что площадь не может быть меньше 10 метров квадратных:

![sorry, something is wrong(...](/images/lab01/validate/add_lab01.png)

![sorry, something is wrong(...](/images/lab01/validate/val_other_lab01.png)

### Модуль demo.py:

В данном коде демонстрация работы модуля model.py, т.е. создания объектов, проверки валидации, вывода в командную строку, работы бизнес-методов.

Первый участок кода:

![sorry, something is wrong(...](/images/lab01/demo/d1_lab01.png)

Результат работы данного участка кода:

![sorry, something is wrong(...](/images/lab01/demo/d1_result_lab01.png)

Второй участок кода:

![sorry, something is wrong(...](/images/lab01/demo/d2_lab01.png)

Результат работы данного участка кода:

![sorry, something is wrong(...](/images/lab01/demo/d2_result_lab01.png)

---

## Результат лабораторной работы:

### Репозиторий:

```
python_oop_labs/
├─ README.md
├─ src/
│  ├─ lib/
│  ├─ lab01/
│  │   ├─ validate.py
│  │   └─ model.py
|  |   └─ demo.py
└─ images/
   └─ lab01/
```

### Реализованный класс:

В рамках лабораторной работы №1 был реализован пользовательский класс из предметной области согласно присвоеному варианту (вариант 9 - недвижимость).

#### Реализовано:

* Закрытые атрибуты экземпляра;
* Конструктор с проверкой входных данных;
* Свойства (`@property`);
* Проверки корректности данных;
* Магические методы:;

  * `__str__`
  * `__repr__`
  * `__eq__`
* Бизнес-методы.

---
